[main]
#sessionManager = org.apache.shiro.session.mgt.DefaultSessionManager
# ensure the securityManager uses our native SessionManager
#securityManager.sessionManager = $sessionManager

#set the sessionManager to use an enterprise cache for backing storage:
#sessionDAO = org.apache.shiro.session.mgt.eis.EnterpriseCacheSessionDAO
#securityManager.sessionManager.sessionDAO = $sessionDAO

cacheManager = org.apache.shiro.cache.ehcache.EhCacheManager
securityManager.cacheManager = $cacheManager

# Session validation
#sessionValidationScheduler = org.apache.shiro.session.mgt.ExecutorServiceSessionValidationScheduler
# Session timeout  
#securityManager.sessionManager.globalSessionTimeout = 3600000
# Default is 3,600,000 millis = 1 hour:
#sessionValidationScheduler.interval = 3600000
#sessionValidationScheduler.sessionManager = $sessionManager


authFilter = com.proptiger.api.filter.DataAPIAuthenticationFilter
jdbcRealm = org.apache.shiro.realm.jdbc.JdbcRealm
jdbcRealm.permissionsLookupEnabled = true

#credential matcher as MD5
cm = org.apache.shiro.authc.credential.Md5CredentialsMatcher

jdbcRealm.credentialsMatcher = $cm

ssl.enabled = false
 
ds = com.mysql.jdbc.jdbc2.optional.MysqlDataSource
ds.serverName = nightly.proptiger-ws.com
ds.user = root
ds.password = root
ds.databaseName = proptiger
jdbcRealm.dataSource = $ds
 
# Configure JDBC realm SQL queries.
jdbcRealm.authenticationQuery = SELECT PASSWORD FROM proptiger.FORUM_USER where EMAIL=?;
 
[urls]
/data/v1/entity/user/login = ssl
/data/v1/entity/user/logout = ssl
/data/v1/entity/user/** = authFilter
